@startuml
|Пользователь|
start
:Запросить доступ к курсу;

|Система|
:Проверить, опубликован ли курс?;

if (Курс опубликован?) then (нет)
    :Доступ запрещён;
    stop
else (да)
    :Проверить подписку пользователя на курс;
    if (Подписка отсутствует?) then (да)
        :Создать подписку на последнюю версию курса;
        |Пользователь|
        :Получить доступ к версии курса, на которую подписан;
        :Прогресс сохраняется только в версии курса, на которую подписан;
        stop
    else (нет)
        |Пользователь|
        :Видит только версию курса, на которую подписан;
        :Прогресс сохраняется только в версии курса, на которую подписан;
        stop
    endif
endif
@enduml
